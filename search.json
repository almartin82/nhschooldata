[{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"critical-data-source-rules","dir":"","previous_headings":"","what":"CRITICAL DATA SOURCE RULES","title":"Claude Code Instructions","text":"NEVER use Urban Institute API, NCES CCD, federal data source — entire point packages provide STATE-LEVEL data directly state . Federal sources aggregate/transform data differently lose state-specific details. state DOE source broken, FIX find alternative STATE source — fall back federal data.","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"git-commit-policy","dir":"","previous_headings":"","what":"GIT COMMIT POLICY","title":"Claude Code Instructions","text":"Commits allowed Claude Code attribution, Co-Authored-trailers, emojis Write normal commit messages human wrote ","code":""},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"local-testing-before-prs-required","dir":"","previous_headings":"","what":"Local Testing Before PRs (REQUIRED)","title":"Claude Code Instructions","text":"PRs merged CI passes. Run checks locally opening PR:","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"quick-commands","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Quick Commands","title":"Claude Code Instructions","text":"","code":"# R package check (required) devtools::check()  # Python tests (required) system(\"pip install -e ./pynhschooldata && pytest tests/test_pynhschooldata.py -v\")  # pkgdown build (required) pkgdown::build_site()"},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"pre-pr-checklist","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Pre-PR Checklist","title":"Claude Code Instructions","text":"opening PR, verify: - [ ] devtools::check() — 0 errors, 0 warnings - [ ] pytest tests/test_pynhschooldata.py — tests pass - [ ] pkgdown::build_site() — builds without errors - [ ] Vignettes render (eval=FALSE hacks)","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"package-overview","dir":"","previous_headings":"","what":"Package Overview","title":"Claude Code Instructions","text":"nhschooldata provides simple, consistent interface accessing New Hampshire school enrollment data NH Department Education (NH DOE).","code":""},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"data-source","dir":"","previous_headings":"","what":"Data Source","title":"Claude Code Instructions","text":"Primary Source: NH DOE iPlatform Public Reports - URL: https://.doe.nh.gov/iPlatform - Note: iPlatform requires browser-based access may require authentication Available Years: 2015-2025 (approximately 10 years historical data)","code":""},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"current-status","dir":"","previous_headings":"","what":"Current Status","title":"Claude Code Instructions","text":"IMPORTANT: NH DOE iPlatform requires browser-based access. automatic download functionality may fail, requiring users : Visit iPlatform directly: District enrollment: https://.doe.nh.gov/iPlatform/Report/DataReportsSubCategory?reportSubCategoryId=9 School enrollment: https://.doe.nh.gov/iPlatform/Report/DataReportsSubCategory?reportSubCategoryId=10 Download Excel files manually Use import_local_enrollment() load data:","code":"df <- import_local_enrollment(\"~/Downloads/district-fall-enrollment.xlsx\", 2024, \"district\")"},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"main-api","dir":"","previous_headings":"Key Functions","what":"Main API","title":"Claude Code Instructions","text":"","code":"# Fetch enrollment data for a single year enr <- fetch_enr(2024)  # 2023-24 school year  # Fetch multiple years enr_multi <- fetch_enr_multi(2020:2024)  # Get wide format (one row per district/school) enr_wide <- fetch_enr(2024, tidy = FALSE)  # Import manually downloaded file df <- import_local_enrollment(\"path/to/file.xlsx\", 2024, \"school\")"},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"helper-functions","dir":"","previous_headings":"Key Functions","what":"Helper Functions","title":"Claude Code Instructions","text":"","code":"# Available years get_available_years()  # Check cache cache_exists(2024, \"tidy\") clear_cache()"},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"tidy-format-default","dir":"","previous_headings":"Data Structure","what":"Tidy Format (default)","title":"Claude Code Instructions","text":"One row per district/school/subgroup/grade_level combination:","code":""},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"subgroups","dir":"","previous_headings":"Data Structure","what":"Subgroups","title":"Claude Code Instructions","text":"Available subgroups depend NH DOE reporting: - Total: total_enrollment - Grade levels: grade_pk, grade_k, grade_01 grade_12 Note: Demographics (race/ethnicity, gender) may available standard enrollment reports.","code":""},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"year-convention","dir":"","previous_headings":"","what":"Year Convention","title":"Claude Code Instructions","text":"CRITICAL: Years use END YEAR school year: - 2024 = 2023-24 school year - 2023 = 2022-23 school year","code":""},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"test-coverage","dir":"","previous_headings":"","what":"Test Coverage","title":"Claude Code Instructions","text":"Current tests verify: - Utility functions (safe_numeric, year validation, name cleaning) - Cache management - Data structure validation - Local file import functionality","code":""},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"fidelity-requirement","dir":"","previous_headings":"","what":"Fidelity Requirement","title":"Claude Code Instructions","text":"tidy=TRUE output MUST maintain fidelity raw, unprocessed data: - State totals equal sum district totals - impossible zeros state level - Inf/NaN percentages - Enrollment counts must match source data","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"iplatform-may-require-browser-access","dir":"","previous_headings":"Troubleshooting","what":"“iPlatform may require browser access”","title":"Claude Code Instructions","text":"expected. Visit URLs provided download files manually.","code":""},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"stale-cache-data","dir":"","previous_headings":"Troubleshooting","what":"Stale cache data","title":"Claude Code Instructions","text":"Clear cache:","code":"clear_cache()"},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"year-not-found","dir":"","previous_headings":"Troubleshooting","what":"Year not found","title":"Claude Code Instructions","text":"Check available years:","code":"get_available_years()"},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"todo","dir":"","previous_headings":"","what":"TODO","title":"Claude Code Instructions","text":"Investigate browser automation (RSelenium) automated downloads Consider bundling static data files inst/extdata/ like rischooldata Add demographic data /available NH DOE","code":""},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"live-pipeline-testing","dir":"","previous_headings":"","what":"LIVE Pipeline Testing","title":"Claude Code Instructions","text":"package includes tests/testthat/test-pipeline-live.R LIVE network tests.","code":""},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"test-categories","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Test Categories:","title":"Claude Code Instructions","text":"URL Availability - HTTP 200 checks File Download - Verify actual file (HTML error) File Parsing - readxl/readr succeeds Column Structure - Expected columns exist get_raw_enr() - Raw data function works Data Quality - Inf/NaN, non-negative counts Aggregation - State total > 0 Output Fidelity - tidy=TRUE matches raw","code":""},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"running-tests","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Running Tests:","title":"Claude Code Instructions","text":"See state-schooldata/CLAUDE.md complete testing framework documentation.","code":"devtools::test(filter = \"pipeline-live\")"},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"feature-branch--pr--auto-merge-policy","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Feature Branch + PR + Auto-Merge Policy","title":"Claude Code Instructions","text":"NEVER push directly main. changes must go PRs auto-merge:","code":"# 1. Create feature branch git checkout -b fix/description-of-change  # 2. Make changes, commit git add -A git commit -m \"Fix: description of change\"  # 3. Push and create PR with auto-merge git push -u origin fix/description-of-change gh pr create --title \"Fix: description\" --body \"Description of changes\" gh pr merge --auto --squash  # 4. Clean up stale branches after PR merges git checkout main && git pull && git fetch --prune origin"},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"branch-cleanup-required","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Branch Cleanup (REQUIRED)","title":"Claude Code Instructions","text":"Clean stale branches every time touch package:","code":"# Delete local branches merged to main git branch --merged main | grep -v main | xargs -r git branch -d  # Prune remote tracking branches git fetch --prune origin"},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"auto-merge-requirements","dir":"","previous_headings":"Git Workflow (REQUIRED)","what":"Auto-Merge Requirements","title":"Claude Code Instructions","text":"PRs auto-merge CI checks pass: - R-CMD-check (0 errors, 0 warnings) - Python tests (py{st}schooldata exists) - pkgdown build (vignettes must render) CI fails, fix issue push - auto-merge triggers checks pass.","code":""},{"path":"https://almartin82.github.io/nhschooldata/CLAUDE.html","id":"readme-images-from-vignettes-required","dir":"","previous_headings":"","what":"README Images from Vignettes (REQUIRED)","title":"Claude Code Instructions","text":"NEVER use man/figures/ generate_readme_figs.R README images. README images MUST come pkgdown-generated vignette output auto-update merge: : Vignette figures regenerate automatically pkgdown builds. Manual man/figures/ requires running separate script easy forget, causing stale/broken images.","code":"![Chart name](https://almartin82.github.io/{package}/articles/{vignette}_files/figure-html/{chunk-name}-1.png)"},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":null,"dir":"","previous_headings":"","what":"New Hampshire School Data Expansion Research","title":"New Hampshire School Data Expansion Research","text":"Last Updated: 2026-01-11 Theme Researched: Assessment (NH SAS, K-8 High School, excluding SAT/ACT)","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"summary-of-findings","dir":"","previous_headings":"","what":"Summary of Findings","title":"New Hampshire School Data Expansion Research","text":"New Hampshire 15+ years historic assessment data available (2008-2024), access extremely restricted due : 1. Akamai/EdgeSuite bot blocking (HTTP 403 automated requests) 2. Browser-required authentication iPlatform 3. Tableau dashboards public API 4. Inline documents directory blocked (403 Forbidden) CRITICAL BARRIER: appears one restrictive state DOE sites country programmatic access.","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"source-1-nh-doe-assessment-data-page-primary-source","dir":"","previous_headings":"Data Sources Found","what":"Source 1: NH DOE Assessment Data Page (PRIMARY SOURCE)","title":"New Hampshire School Data Expansion Research","text":"URL: https://www.education.nh.gov/--/division--educator--analytic-resources/bureau--education-statistics/assessment-data HTTP Status: 200 (page loads) links likely blocked Akamai Format: CSV Excel files mentioned page 2023-24: Disaggregated Data (CSV + Excel) 2022-23: Disaggregated Data (CSV + Excel) 2021-22: Disaggregated Data (CSV + Excel) 2020-21: Disaggregated Data (CSV + Excel) 2018-19: Disaggregated Data (regular + 95% denominator) (CSV + Excel) 2017-18: Disaggregated Data (regular + 95% denominator) (CSV + Excel) 2016-17 2008-09: “Prior Years’ Results” (CSV + Excel) Access Method: Direct download links page (likely blocked Akamai/EdgeSuite) Update Frequency: Annual RED FLAGS: - curl requests return “Access Denied” Akamai/EdgeSuite - File directory /sites/g/files/ehbemt326/files/inline-documents/ returns HTTP 403 - Automated access appears actively blocked","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"source-2-iachieve-tableau-dashboard-2016-2017-data","dir":"","previous_headings":"Data Sources Found","what":"Source 2: iAchieve Tableau Dashboard (2016-2017 data)","title":"New Hampshire School Data Expansion Research","text":"URL: https://www.nh.gov/t/DOE/views/iAchieve/ProficiencyandGrowth Format: Interactive Tableau dashboard Years: 2016-2017 primarily Access Method: Browser-, JavaScript-rendered Wrapper URL: https://jwt.nh.gov/?src_route=iAchieve/AssessmentParticipation RED FLAGS: - Tableau dashboards API bulk download - Requires browser interaction - need Selenium/Playwright automation (complex, fragile)","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"source-3-nh-school-and-district-profiles-2010-2015-data","dir":"","previous_headings":"Data Sources Found","what":"Source 3: NH School and District Profiles (2010-2015 data)","title":"New Hampshire School Data Expansion Research","text":"URL: https://.doe.nh.gov/profiles/profile.aspx#accountabilitystatus Format: Interactive profiles Years: 2010-2015 Access Method: Browser-based interface RED FLAGS: - Requires browser interaction - clear bulk download mechanism","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"source-4-nh-doe-iplatform","dir":"","previous_headings":"Data Sources Found","what":"Source 4: NH DOE iPlatform","title":"New Hampshire School Data Expansion Research","text":"URL: https://.doe.nh.gov/iPlatform Format: Interactive dashboard Access Method: Requires login/authentication Features: Assessment Participation, Proficiency Growth, Achievement Levels RED FLAGS: - Authentication required - documented public API - Similar current enrollment data access issues","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"nh-sas-new-hampshire-statewide-assessment-system","dir":"","previous_headings":"Assessment Types Available","what":"NH SAS (New Hampshire Statewide Assessment System)","title":"New Hampshire School Data Expansion Research","text":"Grades: 3-8 + 11 (high school) Subjects: English Language Arts/Writing, Mathematics, Science Years: 2017-present (transitioned SBAC)","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"sbac-smarter-balanced-assessment-consortium","dir":"","previous_headings":"Assessment Types Available","what":"SBAC (Smarter Balanced Assessment Consortium)","title":"New Hampshire School Data Expansion Research","text":"Years: 2015-2017 Superseded : NH SAS","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"necap-new-england-common-assessment-program","dir":"","previous_headings":"Assessment Types Available","what":"NECAP (New England Common Assessment Program)","title":"New Hampshire School Data Expansion Research","text":"Years: ~2013-2014 Subjects: Math, Reading, Writing, Science Superseded : SBAC","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"schema-analysis","dir":"","previous_headings":"","what":"Schema Analysis","title":"New Hampshire School Data Expansion Research","text":"LIMITATION: Unable download sample files due HTTP 403 errors. Schema analysis require: 1. Manual download files via browser 2. Manual inspection column structures 3. Documentation schema changes time","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"expected-data-elements-based-on-sdganh-documentation","dir":"","previous_headings":"Schema Analysis","what":"Expected Data Elements (based on SDGANH documentation)","title":"New Hampshire School Data Expansion Research","text":"Disaggregated Data Files (2018-present) contain: - School/District identifiers - Grade levels (3-8, 11) - Subjects (ELA, Math, Science) - Achievement levels (Level 1-4) - Proficiency percentages - Student counts (denominators) - Demographic breakdowns (sex, race, ethnicity, socioeconomic) Data Suppression Rules (SDGANH): - Results replaced “>90%” “<10%” small numbers - achievement score reported 10 fewer students - Grade 0 used district/state aggregates","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"technical-barriers","dir":"","previous_headings":"Access Barriers","what":"Technical Barriers","title":"New Hampshire School Data Expansion Research","text":"curl requests return “Access Denied” User-Agent blocking likely place Rate limiting may aggressive /sites/g/files/ehbemt326/files/inline-documents/ returns 403 directory listing allowed Files enumerated programmatically iPlatform requires browser Tableau dashboards interactive REST API endpoints documented","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"procedural-barriers","dir":"","previous_headings":"Access Barriers","what":"Procedural Barriers","title":"New Hampshire School Data Expansion Research","text":"iPlatform requires login myNHDOE SSO system public API keys Files must downloaded individually 15+ years = 30+ files (CSV + Excel year) documented batch download method","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"implementation-challenges","dir":"","previous_headings":"Recommended Implementation","what":"Implementation Challenges","title":"New Hampshire School Data Expansion Research","text":"automate downloads - HTTP 403 blocks programmatic access Manual intervention required - User must download files via browser stable URL patterns - predict file URLs without enumeration Schema unknown - need manual inspection downloaded files","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"option-1-import_local_-pattern-like-ri-schooldata","dir":"","previous_headings":"Recommended Implementation > Potential Workarounds (Ordered by feasibility)","what":"Option 1: import_local_*() Pattern (LIKE RI SCHOOLDATA)","title":"New Hampshire School Data Expansion Research","text":"Pros: Works manual downloads Users download files via browser Package reads local files Similar current enrollment approach Cons: Poor user experience automated updates High user burden Implementation:","code":"import_local_assessment(file_path, year, type = \"disaggregated\")"},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"option-2-browser-automation-seleniumplaywright","dir":"","previous_headings":"Recommended Implementation > Potential Workarounds (Ordered by feasibility)","what":"Option 2: Browser Automation (Selenium/Playwright)","title":"New Hampshire School Data Expansion Research","text":"Can potentially bypass JavaScript rendering Can navigate iPlatform Can download files Extremely fragile (breaks site changes) Heavy dependencies (browser drivers) Slow (requires full browser) May still blocked bot detection Hard maintain CI/CD Estimated Effort: 40-60 hours initial + ongoing maintenance","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"option-3-contact-nh-doe-for-api-access","dir":"","previous_headings":"Recommended Implementation > Potential Workarounds (Ordered by feasibility)","what":"Option 3: Contact NH DOE for API Access","title":"New Hampshire School Data Expansion Research","text":"May provide official API endpoint Stable, documented access Supports automation guarantee ’ll provide access May require data use agreement Timeline uncertain Data Collection & Reporting Help Desk: https://nhdoepm.atlassian.net Assessment Accountability Help Desk: https://nhdoepm.atlassian.net/servicedesk/customer/portal/22/group/66","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"option-4-alternative-data-sources-not-recommended","dir":"","previous_headings":"Recommended Implementation > Potential Workarounds (Ordered by feasibility)","what":"Option 4: Alternative Data Sources (NOT RECOMMENDED)","title":"New Hampshire School Data Expansion Research","text":"❌ PROHIBITED project rules Loses state-level detail Aggregated differently NH DOE May redistribution rights Data may processed/transformed Licensing unclear","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"test-requirements","dir":"","previous_headings":"","what":"Test Requirements","title":"New Hampshire School Data Expansion Research","text":"write tests without actual file access. need:","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"fidelity-tests-once-files-obtained","dir":"","previous_headings":"Test Requirements","what":"Fidelity Tests (Once files obtained)","title":"New Hampshire School Data Expansion Research","text":"Year 2024: State proficiency rate (verified) Year 2020: COVID baseline year Year 2018: First disaggregated data year Year 2016: iAchieve data (accessible)","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"data-quality-checks","dir":"","previous_headings":"Test Requirements","what":"Data Quality Checks","title":"New Hampshire School Data Expansion Research","text":"Proficiency 0-100% negative student counts State totals consistent across years Major districts present (Manchester, Nashua, etc.)","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"time-series-heuristics","dir":"","previous_headings":"","what":"Time Series Heuristics","title":"New Hampshire School Data Expansion Research","text":"establish without data access. expect: - State proficiency: ~45-55% (ELA/Math combined) - ~165,000 students tested - ~160 districts data - Major districts: Manchester, Nashua, Concord","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"most-restrictive-access-encountered","dir":"","previous_headings":"Comparison to Other States","what":"Most Restrictive Access Encountered","title":"New Hampshire School Data Expansion Research","text":"Arkansas: Direct download, stable URLs ✅ Texas: Public API, bulk downloads ✅ New York: Open data portal ✅ New Hampshire: BLOCKED ❌","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"similar-cases","dir":"","previous_headings":"Comparison to Other States","what":"Similar Cases","title":"New Hampshire School Data Expansion Research","text":"Rhode Island: Uses import_local_*() pattern due similar access issues New Hampshire Enrollment: Already uses import_local_enrollment() fallback","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"do-not-implement-assessment-data-at-this-time","dir":"","previous_headings":"Recommendation","what":"DO NOT IMPLEMENT ASSESSMENT DATA AT THIS TIME","title":"New Hampshire School Data Expansion Research","text":"Rationale: HTTP 403 blocks automation API endpoints Tableau dashboards can’t scraped reliably 48 states accessible data Focus efforts high-impact, accessible sources Browser automation extremely fragile break constantly worth effort Manual download pattern poor UX Better offer offer badly","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"alternative-document-manual-process","dir":"","previous_headings":"Recommendation","what":"Alternative: Document Manual Process","title":"New Hampshire School Data Expansion Research","text":"users request NH assessment data, provide: 1. Link NH DOE Assessment Data page 2. Instructions manual download 3. Code templates reading downloaded files 4. Example analysis workflows","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"next-steps-if-assessment-data-becomes-critical","dir":"","previous_headings":"","what":"Next Steps (If Assessment Data Becomes Critical)","title":"New Hampshire School Data Expansion Research","text":"Contact NH DOE API access bulk download options Pilot Selenium approach 2-3 recent years Evaluate maintenance burden vs. user value Document schema manually downloaded files Reassess feasibility","code":""},{"path":"https://almartin82.github.io/nhschooldata/EXPANSION.html","id":"references","dir":"","previous_headings":"","what":"References","title":"New Hampshire School Data Expansion Research","text":"NH DOE Assessment Data Page NH DOE iPlatform NH iAchieve Portal SDGANH Proficiency Data Documentation NH Education Facts NH DOE Data Collection Help Desk NH Assessment Accountability Help Desk Researcher Note: represents challenging state DOE access encountered project date. combination bot blocking, authentication requirements, Tableau dashboards makes automated data access effectively impossible without direct DOE cooperation.","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/TODO.html","id":"issue-network-connectivity-error-2026-01-01","dir":"","previous_headings":"","what":"Issue: Network Connectivity Error (2026-01-01)","title":"TODO: pkgdown Build Issues","text":"pkgdown build fails due network timeout checking CRAN availability.","code":""},{"path":"https://almartin82.github.io/nhschooldata/TODO.html","id":"error-details","dir":"","previous_headings":"Issue: Network Connectivity Error (2026-01-01)","what":"Error Details","title":"TODO: pkgdown Build Issues","text":"","code":"Error: ! in callr subprocess. Caused by error in `httr2::req_perform(req)`: ! Failed to perform HTTP request. Caused by error in `curl::curl_fetch_memory()`: ! Timeout was reached [cloud.r-project.org]: Connection timed out after 10002 milliseconds"},{"path":"https://almartin82.github.io/nhschooldata/TODO.html","id":"root-cause","dir":"","previous_headings":"Issue: Network Connectivity Error (2026-01-01)","what":"Root Cause","title":"TODO: pkgdown Build Issues","text":"build fails CRAN link check step (pkgdown:::cran_link()). network/infrastructure issue - cloud.r-project.org reachable current network.","code":""},{"path":"https://almartin82.github.io/nhschooldata/TODO.html","id":"resolution","dir":"","previous_headings":"Issue: Network Connectivity Error (2026-01-01)","what":"Resolution","title":"TODO: pkgdown Build Issues","text":"Wait retry - likely transient network issue. Try network connectivity CRAN restored. Build locally - Run build machine reliable CRAN access. GitHub Actions - pkgdown GitHub Actions workflow work triggered, GitHub runners typically good connectivity CRAN.","code":""},{"path":"https://almartin82.github.io/nhschooldata/TODO.html","id":"notes","dir":"","previous_headings":"Issue: Network Connectivity Error (2026-01-01)","what":"Notes","title":"TODO: pkgdown Build Issues","text":"vignette content (vignettes/enrollment_hooks.Rmd) appears correct Year ranges used: 2016-2024 (valid available data) code/data issue - purely network connectivity","code":""},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"data-access-note","dir":"Articles","previous_headings":"","what":"Data Access Note","title":"Exploring New Hampshire School Enrollment Data","text":"NH DOE iPlatform requires browser-based access. automatic download fails: Visit .doe.nh.gov/iPlatform Download enrollment reports Use import_local_enrollment() load data","code":"library(nhschooldata) library(dplyr) library(tidyr) library(ggplot2) theme_set(theme_minimal(base_size = 14))"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"explore-statewide-enrollment-trends","dir":"Articles","previous_headings":"","what":"1. Explore statewide enrollment trends","title":"Exploring New Hampshire School Enrollment Data","text":"Track New Hampshire’s public school enrollment changed time. New Hampshire statewide enrollment 2016-2024","code":"enr <- fetch_enr_multi(2016:2024, use_cache = TRUE)  statewide <- enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students)  statewide #>   end_year n_students #> 1     2016          0 #> 2     2017          0 #> 3     2018          0 #> 4     2019          0 #> 5     2020          0 #> 6     2021          0 #> 7     2022          0 #> 8     2023          0 #> 9     2024          0 ggplot(statewide, aes(x = end_year, y = n_students)) +   geom_line(color = \"#2E86AB\", linewidth = 1.2) +   geom_point(color = \"#2E86AB\", size = 3) +   scale_y_continuous(labels = scales::comma, limits = c(0, NA)) +   labs(     title = \"New Hampshire Public School Enrollment (2016-2024)\",     subtitle = \"Tracking statewide trends\",     x = \"Year\",     y = \"Students\"   )"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"find-the-largest-districts","dir":"Articles","previous_headings":"","what":"2. Find the largest districts","title":"Exploring New Hampshire School Enrollment Data","text":"See districts serve students New Hampshire. Top 10 New Hampshire school districts enrollment","code":"enr_2024 <- fetch_enr(2024, use_cache = TRUE)  top_districts <- enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   head(10) %>%   select(district_name, n_students)  top_districts #> [1] district_name n_students    #> <0 rows> (or 0-length row.names) top_districts %>%   mutate(district_name = gsub(\" School District\", \"\", district_name)) %>%   mutate(district_name = factor(district_name, levels = rev(district_name))) %>%   ggplot(aes(x = n_students, y = district_name)) +   geom_col(fill = \"#2E86AB\") +   geom_text(aes(label = scales::comma(n_students)), hjust = -0.1, size = 3.5) +   scale_x_continuous(labels = scales::comma, expand = expansion(mult = c(0, 0.15))) +   labs(     title = \"Largest School Districts in New Hampshire (2024)\",     x = \"Students\",     y = NULL   )"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"track-demographic-changes","dir":"Articles","previous_headings":"","what":"3. Track demographic changes","title":"Exploring New Hampshire School Enrollment Data","text":"Monitor demographic composition New Hampshire schools changing. Demographic shifts New Hampshire schools","code":"enr_demo <- fetch_enr_multi(c(2016, 2018, 2020, 2024), use_cache = TRUE)  demographics <- enr_demo %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"hispanic\", \"asian\", \"black\", \"multiracial\")) %>%   group_by(end_year) %>%   mutate(pct = n_students / sum(n_students) * 100) %>%   ungroup() %>%   select(end_year, subgroup, pct)  demographics_wide <- demographics %>%   pivot_wider(names_from = subgroup, values_from = pct)  demographics_wide #> # A tibble: 4 × 6 #>   end_year white black hispanic asian multiracial #>      <int> <dbl> <dbl>    <dbl> <dbl>       <dbl> #> 1     2016   NaN   NaN      NaN   NaN         NaN #> 2     2018   NaN   NaN      NaN   NaN         NaN #> 3     2020   NaN   NaN      NaN   NaN         NaN #> 4     2024   NaN   NaN      NaN   NaN         NaN demographics %>%   mutate(subgroup = factor(subgroup,                            levels = c(\"white\", \"hispanic\", \"asian\", \"multiracial\", \"black\"),                            labels = c(\"White\", \"Hispanic\", \"Asian\", \"Multiracial\", \"Black\"))) %>%   ggplot(aes(x = end_year, y = pct, color = subgroup)) +   geom_line(linewidth = 1.2) +   geom_point(size = 3) +   scale_color_manual(values = c(\"White\" = \"#2E86AB\", \"Hispanic\" = \"#E94F37\",                                 \"Asian\" = \"#F6AE2D\", \"Multiracial\" = \"#86BA90\",                                 \"Black\" = \"#A23B72\")) +   scale_y_continuous(labels = function(x) paste0(x, \"%\")) +   labs(     title = \"Demographic Composition of NH Public Schools (2016-2024)\",     x = \"Year\",     y = \"Percent of Students\",     color = \"Group\"   ) +   theme(legend.position = \"right\")"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"compare-regional-trends","dir":"Articles","previous_headings":"","what":"4. Compare regional trends","title":"Exploring New Hampshire School Enrollment Data","text":"New Hampshire’s geography creates distinct regional patterns - compare coastal areas North Country. Regional enrollment trends New Hampshire","code":"seacoast <- c(\"Portsmouth\", \"Dover\", \"Rochester\", \"Exeter\", \"Hampton\") north_country <- c(\"Berlin\", \"Colebrook\", \"Lancaster\", \"Littleton\", \"Gorham\")  enr_regional <- fetch_enr_multi(c(2016, 2018, 2021, 2024), use_cache = TRUE)  regional <- enr_regional %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(region = case_when(     grepl(paste(seacoast, collapse = \"|\"), district_name) ~ \"Seacoast\",     grepl(paste(north_country, collapse = \"|\"), district_name) ~ \"North Country\",     TRUE ~ \"Other\"   )) %>%   filter(region %in% c(\"Seacoast\", \"North Country\")) %>%   group_by(end_year, region) %>%   summarize(total = sum(n_students, na.rm = TRUE), .groups = \"drop\")  regional #> # A tibble: 0 × 3 #> # ℹ 3 variables: end_year <int>, region <chr>, total <int> ggplot(regional, aes(x = end_year, y = total, color = region)) +   geom_line(linewidth = 1.2) +   geom_point(size = 3) +   scale_color_manual(values = c(\"Seacoast\" = \"#2E86AB\", \"North Country\" = \"#E94F37\")) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Regional Enrollment: Seacoast vs. North Country\",     x = \"Year\",     y = \"Students\",     color = \"Region\"   ) +   theme(legend.position = \"right\")"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"analyze-grade-level-trends","dir":"Articles","previous_headings":"","what":"5. Analyze grade-level trends","title":"Exploring New Hampshire School Enrollment Data","text":"Track enrollment varies across grade levels understand student pipeline. Enrollment grade level time","code":"enr_grades <- fetch_enr_multi(2016:2024, use_cache = TRUE)  grades <- enr_grades %>%   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"01\", \"05\", \"09\", \"12\")) %>%   select(end_year, grade_level, n_students) %>%   mutate(grade_label = case_when(     grade_level == \"K\" ~ \"Kindergarten\",     grade_level == \"01\" ~ \"1st Grade\",     grade_level == \"05\" ~ \"5th Grade\",     grade_level == \"09\" ~ \"9th Grade\",     grade_level == \"12\" ~ \"12th Grade\"   ))  grades #>    end_year grade_level n_students  grade_label #> 1      2016           K          0 Kindergarten #> 2      2016          01          0    1st Grade #> 3      2016          05          0    5th Grade #> 4      2016          09          0    9th Grade #> 5      2016          12          0   12th Grade #> 6      2017           K          0 Kindergarten #> 7      2017          01          0    1st Grade #> 8      2017          05          0    5th Grade #> 9      2017          09          0    9th Grade #> 10     2017          12          0   12th Grade #> 11     2018           K          0 Kindergarten #> 12     2018          01          0    1st Grade #> 13     2018          05          0    5th Grade #> 14     2018          09          0    9th Grade #> 15     2018          12          0   12th Grade #> 16     2019           K          0 Kindergarten #> 17     2019          01          0    1st Grade #> 18     2019          05          0    5th Grade #> 19     2019          09          0    9th Grade #> 20     2019          12          0   12th Grade #> 21     2020           K          0 Kindergarten #> 22     2020          01          0    1st Grade #> 23     2020          05          0    5th Grade #> 24     2020          09          0    9th Grade #> 25     2020          12          0   12th Grade #> 26     2021           K          0 Kindergarten #> 27     2021          01          0    1st Grade #> 28     2021          05          0    5th Grade #> 29     2021          09          0    9th Grade #> 30     2021          12          0   12th Grade #> 31     2022           K          0 Kindergarten #> 32     2022          01          0    1st Grade #> 33     2022          05          0    5th Grade #> 34     2022          09          0    9th Grade #> 35     2022          12          0   12th Grade #> 36     2023           K          0 Kindergarten #> 37     2023          01          0    1st Grade #> 38     2023          05          0    5th Grade #> 39     2023          09          0    9th Grade #> 40     2023          12          0   12th Grade #> 41     2024           K          0 Kindergarten #> 42     2024          01          0    1st Grade #> 43     2024          05          0    5th Grade #> 44     2024          09          0    9th Grade #> 45     2024          12          0   12th Grade grades %>%   mutate(grade_label = factor(grade_label,                               levels = c(\"Kindergarten\", \"1st Grade\", \"5th Grade\",                                          \"9th Grade\", \"12th Grade\"))) %>%   ggplot(aes(x = end_year, y = n_students, color = grade_label)) +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_color_brewer(palette = \"Set1\") +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"New Hampshire Enrollment by Grade Level (2016-2024)\",     x = \"Year\",     y = \"Students\",     color = \"Grade\"   ) +   theme(legend.position = \"right\")"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"understand-district-size-distribution","dir":"Articles","previous_headings":"","what":"6. Understand district size distribution","title":"Exploring New Hampshire School Enrollment Data","text":"New Hampshire many small districts share administration SAUs. Distribution district sizes New Hampshire","code":"district_sizes <- enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(size = case_when(     n_students >= 3000 ~ \"Large (3,000+)\",     n_students >= 1000 ~ \"Medium (1,000-2,999)\",     n_students >= 300 ~ \"Small (300-999)\",     TRUE ~ \"Tiny (<300)\"   )) %>%   count(size) %>%   mutate(size = factor(size, levels = c(\"Tiny (<300)\", \"Small (300-999)\",                                          \"Medium (1,000-2,999)\", \"Large (3,000+)\")))  district_sizes #> [1] size n    #> <0 rows> (or 0-length row.names) ggplot(district_sizes, aes(x = size, y = n, fill = size)) +   geom_col() +   geom_text(aes(label = n), vjust = -0.5, size = 4) +   scale_fill_manual(values = c(\"Tiny (<300)\" = \"#E94F37\", \"Small (300-999)\" = \"#F6AE2D\",                                \"Medium (1,000-2,999)\" = \"#86BA90\", \"Large (3,000+)\" = \"#2E86AB\")) +   scale_y_continuous(expand = expansion(mult = c(0, 0.1))) +   labs(     title = \"New Hampshire Districts by Size (2024)\",     x = \"District Size\",     y = \"Number of Districts\"   ) +   theme(legend.position = \"none\")"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"compare-manchester-and-nashua","dir":"Articles","previous_headings":"","what":"7. Compare Manchester and Nashua","title":"Exploring New Hampshire School Enrollment Data","text":"Track state’s two largest cities share total enrollment.","code":"big_cities <- enr %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Manchester|Nashua\", district_name)) %>%   group_by(end_year) %>%   summarize(combined = sum(n_students, na.rm = TRUE), .groups = \"drop\")  state_totals <- enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, state_total = n_students)  big_cities %>%   left_join(state_totals, by = \"end_year\") %>%   mutate(pct_of_state = round(combined / state_total * 100, 1)) #> # A tibble: 0 × 4 #> # ℹ 4 variables: end_year <int>, combined <int>, state_total <int>, #> #   pct_of_state <dbl>"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"track-kindergarten-pipeline","dir":"Articles","previous_headings":"","what":"8. Track kindergarten pipeline","title":"Exploring New Hampshire School Enrollment Data","text":"Monitor kindergarten enrollment predict future enrollment trends.","code":"kindergarten <- enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"K\") %>%   select(end_year, k_students = n_students)  # Calculate year-over-year change kindergarten %>%   mutate(     change = k_students - lag(k_students),     pct_change = round(change / lag(k_students) * 100, 1)   ) #>   end_year k_students change pct_change #> 1     2016          0     NA         NA #> 2     2017          0      0        NaN #> 3     2018          0      0        NaN #> 4     2019          0      0        NaN #> 5     2020          0      0        NaN #> 6     2021          0      0        NaN #> 7     2022          0      0        NaN #> 8     2023          0      0        NaN #> 9     2024          0      0        NaN"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"find-the-smallest-districts","dir":"Articles","previous_headings":"","what":"9. Find the smallest districts","title":"Exploring New Hampshire School Enrollment Data","text":"Identify New Hampshire’s tiny districts rely SAU administrative sharing.","code":"tiny_districts <- enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          n_students < 200) %>%   arrange(n_students) %>%   head(10) %>%   select(district_name, n_students)  tiny_districts #> [1] district_name n_students    #> <0 rows> (or 0-length row.names)"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"track-high-school-enrollment","dir":"Articles","previous_headings":"","what":"10. Track high school enrollment","title":"Exploring New Hampshire School Enrollment Data","text":"Follow high school grades (9-12) understand graduation pipeline.","code":"high_school <- enr %>%   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"09\", \"10\", \"11\", \"12\")) %>%   group_by(end_year) %>%   summarize(hs_total = sum(n_students, na.rm = TRUE), .groups = \"drop\")  high_school #> # A tibble: 9 × 2 #>   end_year hs_total #>      <int>    <int> #> 1     2016        0 #> 2     2017        0 #> 3     2018        0 #> 4     2019        0 #> 5     2020        0 #> 6     2021        0 #> 7     2022        0 #> 8     2023        0 #> 9     2024        0"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"compare-elementary-vs-secondary","dir":"Articles","previous_headings":"","what":"11. Compare elementary vs secondary","title":"Exploring New Hampshire School Enrollment Data","text":"Track balance elementary (K-5) secondary (6-12) enrollment.","code":"elem_grades <- c(\"K\", \"01\", \"02\", \"03\", \"04\", \"05\") sec_grades <- c(\"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\")  level_comparison <- enr %>%   filter(is_state, subgroup == \"total_enrollment\") %>%   mutate(level = case_when(     grade_level %in% elem_grades ~ \"Elementary\",     grade_level %in% sec_grades ~ \"Secondary\",     TRUE ~ NA_character_   )) %>%   filter(!is.na(level)) %>%   group_by(end_year, level) %>%   summarize(students = sum(n_students, na.rm = TRUE), .groups = \"drop\")  level_comparison #> # A tibble: 18 × 3 #>    end_year level      students #>       <int> <chr>         <int> #>  1     2016 Elementary        0 #>  2     2016 Secondary         0 #>  3     2017 Elementary        0 #>  4     2017 Secondary         0 #>  5     2018 Elementary        0 #>  6     2018 Secondary         0 #>  7     2019 Elementary        0 #>  8     2019 Secondary         0 #>  9     2020 Elementary        0 #> 10     2020 Secondary         0 #> 11     2021 Elementary        0 #> 12     2021 Secondary         0 #> 13     2022 Elementary        0 #> 14     2022 Secondary         0 #> 15     2023 Elementary        0 #> 16     2023 Secondary         0 #> 17     2024 Elementary        0 #> 18     2024 Secondary         0"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"identify-growing-districts","dir":"Articles","previous_headings":"","what":"12. Identify growing districts","title":"Exploring New Hampshire School Enrollment Data","text":"Find districts grown analysis period.","code":"growth <- enr %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          end_year %in% c(2016, 2024)) %>%   select(district_name, end_year, n_students) %>%   pivot_wider(names_from = end_year, values_from = n_students,                      names_prefix = \"y\")  # Calculate growth if data exists if (nrow(growth) > 0 && \"y2024\" %in% names(growth) && \"y2016\" %in% names(growth)) {   growth <- growth %>%     mutate(       change = y2024 - y2016,       pct_change = round(change / y2016 * 100, 1)     ) %>%     arrange(desc(pct_change)) %>%     head(10) }  growth #> # A tibble: 0 × 1 #> # ℹ 1 variable: district_name <chr>"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"track-middle-grades","dir":"Articles","previous_headings":"","what":"13. Track middle grades","title":"Exploring New Hampshire School Enrollment Data","text":"Monitor grades 6-8 enrollment trends.","code":"middle_grades <- enr %>%   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"06\", \"07\", \"08\")) %>%   group_by(end_year) %>%   summarize(middle_total = sum(n_students, na.rm = TRUE), .groups = \"drop\")  middle_grades #> # A tibble: 9 × 2 #>   end_year middle_total #>      <int>        <int> #> 1     2016            0 #> 2     2017            0 #> 3     2018            0 #> 4     2019            0 #> 5     2020            0 #> 6     2021            0 #> 7     2022            0 #> 8     2023            0 #> 9     2024            0"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"compare-school-vs-district-counts","dir":"Articles","previous_headings":"","what":"14. Compare school vs district counts","title":"Exploring New Hampshire School Enrollment Data","text":"See many schools operate within district size category.","code":"school_counts <- enr_2024 %>%   filter(is_campus, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   group_by(district_name) %>%   summarize(n_schools = n(), .groups = \"drop\")  district_enrollment <- enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(district_name, district_enrollment = n_students)  school_counts %>%   left_join(district_enrollment, by = \"district_name\") %>%   mutate(avg_school_size = round(district_enrollment / n_schools, 0)) %>%   arrange(desc(n_schools)) %>%   head(10) #> # A tibble: 0 × 4 #> # ℹ 4 variables: district_name <chr>, n_schools <int>, #> #   district_enrollment <int>, avg_school_size <dbl>"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"calculate-year-over-year-state-change","dir":"Articles","previous_headings":"","what":"15. Calculate year-over-year state change","title":"Exploring New Hampshire School Enrollment Data","text":"Track annual enrollment changes state level.","code":"state_changes <- enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(end_year) %>%   mutate(     change = n_students - lag(n_students),     pct_change = round(change / lag(n_students) * 100, 2)   ) %>%   select(end_year, n_students, change, pct_change)  state_changes #>   end_year n_students change pct_change #> 1     2016          0     NA         NA #> 2     2017          0      0        NaN #> 3     2018          0      0        NaN #> 4     2019          0      0        NaN #> 5     2020          0      0        NaN #> 6     2021          0      0        NaN #> 7     2022          0      0        NaN #> 8     2023          0      0        NaN #> 9     2024          0      0        NaN"},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Exploring New Hampshire School Enrollment Data","text":"New Hampshire’s public school enrollment data reveals: Statewide trends: Track enrollment changes across years District comparisons: Compare districts size location Demographics: Monitor changing student populations Regional patterns: Understand Seacoast vs. North Country differences Grade-level analysis: Follow student pipeline Growth analysis: Identify growing declining districts","code":""},{"path":"https://almartin82.github.io/nhschooldata/articles/enrollment_hooks.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"Exploring New Hampshire School Enrollment Data","text":"","code":"sessionInfo() #> R version 4.5.2 (2025-10-31) #> Platform: x86_64-pc-linux-gnu #> Running under: Ubuntu 24.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> time zone: UTC #> tzcode source: system (glibc) #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] ggplot2_4.0.1      tidyr_1.3.2        dplyr_1.1.4        nhschooldata_0.2.0 #>  #> loaded via a namespace (and not attached): #>  [1] gtable_0.3.6       jsonlite_2.0.0     compiler_4.5.2     tidyselect_1.2.1   #>  [5] jquerylib_0.1.4    systemfonts_1.3.1  scales_1.4.0       textshaping_1.0.4  #>  [9] yaml_2.3.12        fastmap_1.2.0      R6_2.6.1           labeling_0.4.3     #> [13] generics_0.1.4     curl_7.0.0         knitr_1.51         tibble_3.3.1       #> [17] desc_1.4.3         bslib_0.9.0        pillar_1.11.1      RColorBrewer_1.1-3 #> [21] rlang_1.1.7        utf8_1.2.6         cachem_1.1.0       xfun_0.56          #> [25] S7_0.2.1           fs_1.6.6           sass_0.4.10        cli_3.6.5          #> [29] withr_3.0.2        pkgdown_2.2.0      magrittr_2.0.4     digest_0.6.39      #> [33] grid_4.5.2         rappdirs_0.3.4     lifecycle_1.0.5    vctrs_0.7.1        #> [37] evaluate_1.0.5     glue_1.8.0         farver_2.1.2       codetools_0.2-20   #> [41] ragg_1.5.0         httr_1.4.7         rmarkdown_2.30     purrr_1.2.1        #> [45] tools_4.5.2        pkgconfig_2.0.3    htmltools_0.5.9"},{"path":"https://almartin82.github.io/nhschooldata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Al Martin. Author, maintainer.","code":""},{"path":"https://almartin82.github.io/nhschooldata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Martin (2026). nhschooldata: New Hampshire School Data. R package version 0.2.0, https://almartin82.github.io/nhschooldata/.","code":"@Manual{,   title = {nhschooldata: New Hampshire School Data},   author = {Al Martin},   year = {2026},   note = {R package version 0.2.0},   url = {https://almartin82.github.io/nhschooldata/}, }"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"nhschooldata","dir":"","previous_headings":"","what":"New Hampshire School Data","title":"New Hampshire School Data","text":"Documentation | Getting Started Part njschooldata family state education data packages, providing consistent interface accessing school enrollment data across 50 states. Fetch analyze New Hampshire school enrollment data NH Department Education R Python.","code":""},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"what-can-you-find-with-nhschooldata","dir":"","previous_headings":"","what":"What can you find with nhschooldata?","title":"New Hampshire School Data","text":"10 years enrollment data (2015-2025). Approximately 165,000 students. Around 162 districts organized SAUs. analyses can perform:","code":""},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_1-explore-statewide-enrollment-trends","dir":"","previous_headings":"What can you find with nhschooldata?","what":"1. Explore statewide enrollment trends","title":"New Hampshire School Data","text":"Track New Hampshire’s public school enrollment changed time.","code":"library(nhschooldata) library(dplyr)  enr <- fetch_enr_multi(2016:2024, use_cache = TRUE)  statewide <- enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students)  statewide"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_2-find-the-largest-districts","dir":"","previous_headings":"What can you find with nhschooldata?","what":"2. Find the largest districts","title":"New Hampshire School Data","text":"See districts serve students New Hampshire.","code":"enr_2024 <- fetch_enr(2024, use_cache = TRUE)  top_districts <- enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   head(10) %>%   select(district_name, n_students)  top_districts"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_3-track-demographic-changes","dir":"","previous_headings":"What can you find with nhschooldata?","what":"3. Track demographic changes","title":"New Hampshire School Data","text":"Monitor demographic composition New Hampshire schools changing.","code":"enr_demo <- fetch_enr_multi(c(2016, 2018, 2020, 2024), use_cache = TRUE)  demographics <- enr_demo %>%   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"white\", \"hispanic\", \"asian\", \"black\", \"multiracial\")) %>%   group_by(end_year) %>%   mutate(pct = n_students / sum(n_students) * 100) %>%   ungroup() %>%   select(end_year, subgroup, pct)  demographics_wide <- demographics %>%   tidyr::pivot_wider(names_from = subgroup, values_from = pct)  demographics_wide"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_4-compare-regional-trends","dir":"","previous_headings":"What can you find with nhschooldata?","what":"4. Compare regional trends","title":"New Hampshire School Data","text":"New Hampshire’s geography creates distinct regional patterns - compare coastal areas North Country.","code":"seacoast <- c(\"Portsmouth\", \"Dover\", \"Rochester\", \"Exeter\", \"Hampton\") north_country <- c(\"Berlin\", \"Colebrook\", \"Lancaster\", \"Littleton\", \"Gorham\")  enr_regional <- fetch_enr_multi(c(2016, 2018, 2021, 2024), use_cache = TRUE)  regional <- enr_regional %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(region = case_when(     grepl(paste(seacoast, collapse = \"|\"), district_name) ~ \"Seacoast\",     grepl(paste(north_country, collapse = \"|\"), district_name) ~ \"North Country\",     TRUE ~ \"Other\"   )) %>%   filter(region %in% c(\"Seacoast\", \"North Country\")) %>%   group_by(end_year, region) %>%   summarize(total = sum(n_students, na.rm = TRUE), .groups = \"drop\")  regional"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_5-analyze-grade-level-trends","dir":"","previous_headings":"What can you find with nhschooldata?","what":"5. Analyze grade-level trends","title":"New Hampshire School Data","text":"Track enrollment varies across grade levels understand student pipeline.","code":"enr_grades <- fetch_enr_multi(2016:2024, use_cache = TRUE)  grades <- enr_grades %>%   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"K\", \"01\", \"05\", \"09\", \"12\")) %>%   select(end_year, grade_level, n_students) %>%   mutate(grade_label = case_when(     grade_level == \"K\" ~ \"Kindergarten\",     grade_level == \"01\" ~ \"1st Grade\",     grade_level == \"05\" ~ \"5th Grade\",     grade_level == \"09\" ~ \"9th Grade\",     grade_level == \"12\" ~ \"12th Grade\"   ))  grades"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_6-understand-district-size-distribution","dir":"","previous_headings":"What can you find with nhschooldata?","what":"6. Understand district size distribution","title":"New Hampshire School Data","text":"New Hampshire many small districts share administration SAUs.","code":"district_sizes <- enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   mutate(size = case_when(     n_students >= 3000 ~ \"Large (3,000+)\",     n_students >= 1000 ~ \"Medium (1,000-2,999)\",     n_students >= 300 ~ \"Small (300-999)\",     TRUE ~ \"Tiny (<300)\"   )) %>%   count(size) %>%   mutate(size = factor(size, levels = c(\"Tiny (<300)\", \"Small (300-999)\",                                          \"Medium (1,000-2,999)\", \"Large (3,000+)\")))  district_sizes"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_7-compare-manchester-and-nashua","dir":"","previous_headings":"What can you find with nhschooldata?","what":"7. Compare Manchester and Nashua","title":"New Hampshire School Data","text":"Track state’s two largest cities share total enrollment.","code":"big_cities <- enr %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          grepl(\"Manchester|Nashua\", district_name)) %>%   group_by(end_year) %>%   summarize(combined = sum(n_students, na.rm = TRUE), .groups = \"drop\")  state_totals <- enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, state_total = n_students)  big_cities %>%   left_join(state_totals, by = \"end_year\") %>%   mutate(pct_of_state = round(combined / state_total * 100, 1))"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_8-track-kindergarten-pipeline","dir":"","previous_headings":"What can you find with nhschooldata?","what":"8. Track kindergarten pipeline","title":"New Hampshire School Data","text":"Monitor kindergarten enrollment predict future enrollment trends.","code":"kindergarten <- enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"K\") %>%   select(end_year, k_students = n_students)  # Calculate year-over-year change kindergarten %>%   mutate(     change = k_students - lag(k_students),     pct_change = round(change / lag(k_students) * 100, 1)   )"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_9-find-the-smallest-districts","dir":"","previous_headings":"What can you find with nhschooldata?","what":"9. Find the smallest districts","title":"New Hampshire School Data","text":"Identify New Hampshire’s tiny districts rely SAU administrative sharing.","code":"tiny_districts <- enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          n_students < 200) %>%   arrange(n_students) %>%   head(10) %>%   select(district_name, n_students)  tiny_districts"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_10-track-high-school-enrollment","dir":"","previous_headings":"What can you find with nhschooldata?","what":"10. Track high school enrollment","title":"New Hampshire School Data","text":"Follow high school grades (9-12) understand graduation pipeline.","code":"high_school <- enr %>%   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"09\", \"10\", \"11\", \"12\")) %>%   group_by(end_year) %>%   summarize(hs_total = sum(n_students, na.rm = TRUE), .groups = \"drop\")  high_school"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_11-compare-elementary-vs-secondary","dir":"","previous_headings":"What can you find with nhschooldata?","what":"11. Compare elementary vs secondary","title":"New Hampshire School Data","text":"Track balance elementary (K-5) secondary (6-12) enrollment.","code":"elem_grades <- c(\"K\", \"01\", \"02\", \"03\", \"04\", \"05\") sec_grades <- c(\"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\")  level_comparison <- enr %>%   filter(is_state, subgroup == \"total_enrollment\") %>%   mutate(level = case_when(     grade_level %in% elem_grades ~ \"Elementary\",     grade_level %in% sec_grades ~ \"Secondary\",     TRUE ~ NA_character_   )) %>%   filter(!is.na(level)) %>%   group_by(end_year, level) %>%   summarize(students = sum(n_students, na.rm = TRUE), .groups = \"drop\")  level_comparison"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_12-identify-growing-districts","dir":"","previous_headings":"What can you find with nhschooldata?","what":"12. Identify growing districts","title":"New Hampshire School Data","text":"Find districts grown analysis period.","code":"growth <- enr %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          end_year %in% c(2016, 2024)) %>%   select(district_name, end_year, n_students) %>%   tidyr::pivot_wider(names_from = end_year, values_from = n_students,                      names_prefix = \"y\")  # Calculate growth if data exists if (nrow(growth) > 0 && \"y2024\" %in% names(growth) && \"y2016\" %in% names(growth)) {   growth <- growth %>%     mutate(       change = y2024 - y2016,       pct_change = round(change / y2016 * 100, 1)     ) %>%     arrange(desc(pct_change)) %>%     head(10) }  growth"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_13-track-middle-grades","dir":"","previous_headings":"What can you find with nhschooldata?","what":"13. Track middle grades","title":"New Hampshire School Data","text":"Monitor grades 6-8 enrollment trends.","code":"middle_grades <- enr %>%   filter(is_state, subgroup == \"total_enrollment\",          grade_level %in% c(\"06\", \"07\", \"08\")) %>%   group_by(end_year) %>%   summarize(middle_total = sum(n_students, na.rm = TRUE), .groups = \"drop\")  middle_grades"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_14-compare-school-vs-district-counts","dir":"","previous_headings":"What can you find with nhschooldata?","what":"14. Compare school vs district counts","title":"New Hampshire School Data","text":"See many schools operate within district size category.","code":"school_counts <- enr_2024 %>%   filter(is_campus, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   group_by(district_name) %>%   summarize(n_schools = n(), .groups = \"drop\")  district_enrollment <- enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(district_name, district_enrollment = n_students)  school_counts %>%   left_join(district_enrollment, by = \"district_name\") %>%   mutate(avg_school_size = round(district_enrollment / n_schools, 0)) %>%   arrange(desc(n_schools)) %>%   head(10)"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"id_15-calculate-year-over-year-state-change","dir":"","previous_headings":"What can you find with nhschooldata?","what":"15. Calculate year-over-year state change","title":"New Hampshire School Data","text":"Track annual enrollment changes state level.","code":"state_changes <- enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(end_year) %>%   mutate(     change = n_students - lag(n_students),     pct_change = round(change / lag(n_students) * 100, 2)   ) %>%   select(end_year, n_students, change, pct_change)  state_changes"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"enrollment-visualizations","dir":"","previous_headings":"","what":"Enrollment Visualizations","title":"New Hampshire School Data","text":"See full vignette interactive charts deeper analysis.","code":""},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"New Hampshire School Data","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/nhschooldata\")"},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"r","dir":"","previous_headings":"Quick start","what":"R","title":"New Hampshire School Data","text":"","code":"library(nhschooldata) library(dplyr)  # Fetch one year enr_2024 <- fetch_enr(2024)  # Fetch multiple years enr_recent <- fetch_enr_multi(2019:2024)  # State totals enr_2024 %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  # District breakdown enr_2024 %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students))  # Check available years get_available_years()"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"python","dir":"","previous_headings":"Quick start","what":"Python","title":"New Hampshire School Data","text":"","code":"import pynhschooldata as nh  # Fetch one year enr_2024 = nh.fetch_enr(2024)  # Fetch multiple years enr_recent = nh.fetch_enr_multi([2019, 2020, 2021, 2022, 2023, 2024])  # State totals state = enr_2024[     (enr_2024['is_state']) &     (enr_2024['subgroup'] == 'total_enrollment') &     (enr_2024['grade_level'] == 'TOTAL') ]  # District breakdown districts = enr_2024[     (enr_2024['is_district']) &     (enr_2024['subgroup'] == 'total_enrollment') &     (enr_2024['grade_level'] == 'TOTAL') ].sort_values('n_students', ascending=False)  # Check available years years = nh.get_available_years() print(f\"Data available from {years['min_year']} to {years['max_year']}\")"},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"whats-included","dir":"","previous_headings":"Data Availability","what":"What’s included","title":"New Hampshire School Data","text":"Levels: State, district (~162), school (~456) Demographics: White, Black, Hispanic, Asian, Native American, Pacific Islander, Two Races Gender: Male, Female (available) Grade levels: PK-12 plus totals","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"data-source","dir":"","previous_headings":"Data Notes","what":"Data Source","title":"New Hampshire School Data","text":"New Hampshire Department Education iPlatform: .doe.nh.gov/iPlatform","code":""},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"collection-date","dir":"","previous_headings":"Data Notes","what":"Collection Date","title":"New Hampshire School Data","text":"October 1st school year (fall enrollment snapshot).","code":""},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"sau-structure","dir":"","previous_headings":"Data Notes","what":"SAU Structure","title":"New Hampshire School Data","text":"New Hampshire uses School Administrative Units (SAUs) manage administrative functions small districts. single SAU may oversee multiple small districts sharing superintendent central office staff.","code":""},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"data-access-note","dir":"","previous_headings":"Data Notes","what":"Data Access Note","title":"New Hampshire School Data","text":"NH DOE iPlatform uses browser-based access may require manual download. automatic download fails, can: Visit iPlatform directly: District enrollment: .doe.nh.gov/iPlatform School enrollment: .doe.nh.gov/iPlatform Download Excel files Use import_local_enrollment() load:","code":"df <- import_local_enrollment(\"~/Downloads/enrollment.xlsx\", 2024, \"district\")"},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"year-convention","dir":"","previous_headings":"Data Notes","what":"Year Convention","title":"New Hampshire School Data","text":"Years use END YEAR school year: - 2024 = 2023-24 school year - 2025 = 2024-25 school year","code":""},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"part-of-the-state-schooldata-project","dir":"","previous_headings":"","what":"Part of the State Schooldata Project","title":"New Hampshire School Data","text":"package part njschooldata family - simple, consistent interface accessing state-published school data Python R. 50 state packages: github.com/almartin82","code":""},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"author","dir":"","previous_headings":"","what":"Author","title":"New Hampshire School Data","text":"Andy Martin (almartin@gmail.com)","code":""},{"path":"https://almartin82.github.io/nhschooldata/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"New Hampshire School Data","text":"MIT","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cached data exists and is valid — cache_exists","title":"Check if cached data exists and is valid — cache_exists","text":"Check cached data exists valid","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cached data exists and is valid — cache_exists","text":"","code":"cache_exists(end_year, type, max_age = 30)"},{"path":"https://almartin82.github.io/nhschooldata/reference/cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cached data exists and is valid — cache_exists","text":"end_year School year end type Data type (\"tidy\" \"wide\") max_age Maximum age days (default 30)","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cached data exists and is valid — cache_exists","text":"TRUE valid cache exists","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Show cache status — cache_status","title":"Show cache status — cache_status","text":"Lists cached data files size age.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show cache status — cache_status","text":"","code":"cache_status()"},{"path":"https://almartin82.github.io/nhschooldata/reference/cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show cache status — cache_status","text":"Data frame cache information (invisibly)","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show cache status — cache_status","text":"","code":"if (FALSE) { # \\dontrun{ cache_status() } # }"},{"path":"https://almartin82.github.io/nhschooldata/reference/clean_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean school/district names — clean_names","title":"Clean school/district names — clean_names","text":"Standardizes school district names removing extra whitespace handling common abbreviations.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/clean_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean school/district names — clean_names","text":"","code":"clean_names(x)"},{"path":"https://almartin82.github.io/nhschooldata/reference/clean_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean school/district names — clean_names","text":"x Character vector names","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/clean_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean school/district names — clean_names","text":"Cleaned character vector","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/clear_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the nhschooldata cache — clear_cache","title":"Clear the nhschooldata cache — clear_cache","text":"Removes cached data files.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/clear_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the nhschooldata cache — clear_cache","text":"","code":"clear_cache(end_year = NULL, type = NULL)"},{"path":"https://almartin82.github.io/nhschooldata/reference/clear_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the nhschooldata cache — clear_cache","text":"end_year Optional school year clear. NULL, clears years. type Optional data type clear. NULL, clears types.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/clear_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the nhschooldata cache — clear_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/clear_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the nhschooldata cache — clear_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cached data clear_cache()  # Clear only 2024 data clear_cache(2024)  # Clear only tidy format data clear_cache(type = \"tidy\") } # }"},{"path":"https://almartin82.github.io/nhschooldata/reference/create_empty_enrollment_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty enrollment data frame — create_empty_enrollment_df","title":"Create empty enrollment data frame — create_empty_enrollment_df","text":"Create empty enrollment data frame","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/create_empty_enrollment_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty enrollment data frame — create_empty_enrollment_df","text":"","code":"create_empty_enrollment_df(end_year, type)"},{"path":"https://almartin82.github.io/nhschooldata/reference/create_empty_enrollment_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create empty enrollment data frame — create_empty_enrollment_df","text":"end_year School year end type \"Campus\", \"District\", \"State\"","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/create_empty_enrollment_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty enrollment data frame — create_empty_enrollment_df","text":"Empty data frame expected columns","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/create_empty_nhdoe_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty NH DOE data frame — create_empty_nhdoe_df","title":"Create empty NH DOE data frame — create_empty_nhdoe_df","text":"Creates empty data frame expected NH DOE column structure.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/create_empty_nhdoe_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty NH DOE data frame — create_empty_nhdoe_df","text":"","code":"create_empty_nhdoe_df(level = \"school\")"},{"path":"https://almartin82.github.io/nhschooldata/reference/create_empty_nhdoe_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create empty NH DOE data frame — create_empty_nhdoe_df","text":"level \"school\" \"district\"","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/create_empty_nhdoe_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty NH DOE data frame — create_empty_nhdoe_df","text":"Empty data frame expected columns","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/create_state_aggregate.html","id":null,"dir":"Reference","previous_headings":"","what":"Create state-level aggregate from district data — create_state_aggregate","title":"Create state-level aggregate from district data — create_state_aggregate","text":"Create state-level aggregate district data","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/create_state_aggregate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create state-level aggregate from district data — create_state_aggregate","text":"","code":"create_state_aggregate(district_df, end_year)"},{"path":"https://almartin82.github.io/nhschooldata/reference/create_state_aggregate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create state-level aggregate from district data — create_state_aggregate","text":"district_df Processed district data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/create_state_aggregate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create state-level aggregate from district data — create_state_aggregate","text":"Single-row data frame state totals","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/download_iplatform_report.html","id":null,"dir":"Reference","previous_headings":"","what":"Download report from NH DOE iPlatform — download_iplatform_report","title":"Download report from NH DOE iPlatform — download_iplatform_report","text":"Attempts download report NH DOE iPlatform SSRS system.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/download_iplatform_report.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download report from NH DOE iPlatform — download_iplatform_report","text":"","code":"download_iplatform_report(report_base, report_path, end_year, level)"},{"path":"https://almartin82.github.io/nhschooldata/reference/download_iplatform_report.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download report from NH DOE iPlatform — download_iplatform_report","text":"report_base Base URL reports report_path Path specific report end_year School year end level \"district\" \"school\"","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/download_iplatform_report.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download report from NH DOE iPlatform — download_iplatform_report","text":"Data frame enrollment data","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/download_nhdoe_district_enrollment.html","id":null,"dir":"Reference","previous_headings":"","what":"Download district enrollment data from NH DOE iPlatform — download_nhdoe_district_enrollment","title":"Download district enrollment data from NH DOE iPlatform — download_nhdoe_district_enrollment","text":"Downloads District Fall Enrollment report NH DOE iPlatform. report includes enrollment grade level districts.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/download_nhdoe_district_enrollment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download district enrollment data from NH DOE iPlatform — download_nhdoe_district_enrollment","text":"","code":"download_nhdoe_district_enrollment(end_year)"},{"path":"https://almartin82.github.io/nhschooldata/reference/download_nhdoe_district_enrollment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download district enrollment data from NH DOE iPlatform — download_nhdoe_district_enrollment","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/download_nhdoe_district_enrollment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download district enrollment data from NH DOE iPlatform — download_nhdoe_district_enrollment","text":"Data frame district enrollment data","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/download_nhdoe_school_enrollment.html","id":null,"dir":"Reference","previous_headings":"","what":"Download school enrollment data from NH DOE iPlatform — download_nhdoe_school_enrollment","title":"Download school enrollment data from NH DOE iPlatform — download_nhdoe_school_enrollment","text":"Downloads Public School Enrollments Grade report NH DOE iPlatform.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/download_nhdoe_school_enrollment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download school enrollment data from NH DOE iPlatform — download_nhdoe_school_enrollment","text":"","code":"download_nhdoe_school_enrollment(end_year)"},{"path":"https://almartin82.github.io/nhschooldata/reference/download_nhdoe_school_enrollment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download school enrollment data from NH DOE iPlatform — download_nhdoe_school_enrollment","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/download_nhdoe_school_enrollment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download school enrollment data from NH DOE iPlatform — download_nhdoe_school_enrollment","text":"Data frame school enrollment data","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/download_nhdoe_static_enrollment.html","id":null,"dir":"Reference","previous_headings":"","what":"Download NH DOE static enrollment files — download_nhdoe_static_enrollment","title":"Download NH DOE static enrollment files — download_nhdoe_static_enrollment","text":"Attempts download enrollment data static files NH DOE may publish website.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/download_nhdoe_static_enrollment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download NH DOE static enrollment files — download_nhdoe_static_enrollment","text":"","code":"download_nhdoe_static_enrollment(end_year, level)"},{"path":"https://almartin82.github.io/nhschooldata/reference/download_nhdoe_static_enrollment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download NH DOE static enrollment files — download_nhdoe_static_enrollment","text":"end_year School year end level \"district\" \"school\"","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/download_nhdoe_static_enrollment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download NH DOE static enrollment files — download_nhdoe_static_enrollment","text":"Data frame enrollment data, NULL available","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/enr_grade_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"Creates aggregations common grade groupings: K-8, 9-12 (HS), K-12.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/enr_grade_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"enr_grade_aggs(df)"},{"path":"https://almartin82.github.io/nhschooldata/reference/enr_grade_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df tidy enrollment df","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/enr_grade_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df aggregated enrollment data","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/enr_grade_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) grade_aggs <- enr_grade_aggs(tidy_data) } # }"},{"path":"https://almartin82.github.io/nhschooldata/reference/fetch_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch New Hampshire enrollment data — fetch_enr","title":"Fetch New Hampshire enrollment data — fetch_enr","text":"Downloads processes enrollment data New Hampshire public schools. Data sourced directly New Hampshire Department Education iPlatform reporting system.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/fetch_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch New Hampshire enrollment data — fetch_enr","text":"","code":"fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/nhschooldata/reference/fetch_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch New Hampshire enrollment data — fetch_enr","text":"end_year school year. Year end academic year - eg 2023-24 school year year '2024'. Run get_available_years() see available years. tidy TRUE (default), returns data long (tidy) format subgroup column. FALSE, returns wide format. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/fetch_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch New Hampshire enrollment data — fetch_enr","text":"Data frame enrollment data. Wide format includes columns district_id, campus_id, names, enrollment counts grade. Tidy format pivots counts subgroup grade_level columns.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/fetch_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch New Hampshire enrollment data — fetch_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 enrollment data (2023-24 school year) enr_2024 <- fetch_enr(2024)  # Check available years get_available_years()  # Get wide format enr_wide <- fetch_enr(2024, tidy = FALSE)  # Force fresh download (ignore cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)  # Filter to specific district manchester <- enr_2024 |>   dplyr::filter(grepl(\"Manchester\", district_name)) } # }"},{"path":"https://almartin82.github.io/nhschooldata/reference/fetch_enr_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch enrollment data for multiple years — fetch_enr_multi","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Downloads combines enrollment data multiple school years.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/fetch_enr_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"fetch_enr_multi(end_years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/nhschooldata/reference/fetch_enr_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"end_years Vector school year ends (e.g., c(2022, 2023, 2024)) tidy TRUE (default), returns data long (tidy) format. use_cache TRUE (default), uses locally cached data available.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/fetch_enr_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Combined data frame enrollment data requested years","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/fetch_enr_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 3 years of recent data enr_multi <- fetch_enr_multi(2022:2024)  # Track enrollment trends enr_multi |>   dplyr::filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   dplyr::select(end_year, n_students) } # }"},{"path":"https://almartin82.github.io/nhschooldata/reference/format_school_year.html","id":null,"dir":"Reference","previous_headings":"","what":"Format school year for display — format_school_year","title":"Format school year for display — format_school_year","text":"Converts end year integer display format (e.g., 2024 -> \"2023-24\").","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/format_school_year.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format school year for display — format_school_year","text":"","code":"format_school_year(end_year)"},{"path":"https://almartin82.github.io/nhschooldata/reference/format_school_year.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format school year for display — format_school_year","text":"end_year Integer end year","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/format_school_year.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format school year for display — format_school_year","text":"Character string \"YYYY-YY\" format","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/get_available_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available years for enrollment data — get_available_years","title":"Get available years for enrollment data — get_available_years","text":"Returns range years enrollment data available New Hampshire Department Education.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/get_available_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available years for enrollment data — get_available_years","text":"","code":"get_available_years()"},{"path":"https://almartin82.github.io/nhschooldata/reference/get_available_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available years for enrollment data — get_available_years","text":"Named list min_year, max_year, source, note","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/get_available_years.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get available years for enrollment data — get_available_years","text":"NH DOE iPlatform provides enrollment data approximately current year plus 10 prior years. Data availability may vary.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/get_available_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available years for enrollment data — get_available_years","text":"","code":"get_available_years() #> $min_year #> [1] 2015 #>  #> $max_year #> [1] 2025 #>  #> $source #> [1] \"New Hampshire Department of Education iPlatform\" #>  #> $note #> [1] \"Data availability: 2015-2025. NH DOE iPlatform provides approximately 10 years of historical data. Enrollment is measured on October 1 of each school year. Access data at: https://my.doe.nh.gov/iPlatform\" #>"},{"path":"https://almartin82.github.io/nhschooldata/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache directory path — get_cache_dir","title":"Get cache directory path — get_cache_dir","text":"Returns path cache directory, creating necessary. Uses rappdirs cross-platform cache location.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache directory path — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://almartin82.github.io/nhschooldata/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache directory path — get_cache_dir","text":"Path cache directory","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/get_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache file path for given year and type — get_cache_path","title":"Get cache file path for given year and type — get_cache_path","text":"Get cache file path given year type","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/get_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache file path for given year and type — get_cache_path","text":"","code":"get_cache_path(end_year, type)"},{"path":"https://almartin82.github.io/nhschooldata/reference/get_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cache file path for given year and type — get_cache_path","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/get_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache file path for given year and type — get_cache_path","text":"Full path cache file","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/get_raw_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw enrollment data from NH DOE — get_raw_enr","title":"Download raw enrollment data from NH DOE — get_raw_enr","text":"Downloads enrollment data New Hampshire Department Education iPlatform reporting system. Data includes district school-level enrollment grade.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/get_raw_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw enrollment data from NH DOE — get_raw_enr","text":"","code":"get_raw_enr(end_year)"},{"path":"https://almartin82.github.io/nhschooldata/reference/get_raw_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw enrollment data from NH DOE — get_raw_enr","text":"end_year School year end (2023-24 = 2024). Valid range determined NH DOE data availability.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/get_raw_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw enrollment data from NH DOE — get_raw_enr","text":"List school district data frames","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/get_raw_enr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download raw enrollment data from NH DOE — get_raw_enr","text":"Note: NH DOE iPlatform may require browser-based access. automatic download fails, use import_local_enrollment() manually downloaded files.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/id_enr_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify enrollment aggregation levels — id_enr_aggs","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"Adds boolean flags identify state, district, campus level records.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/id_enr_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"id_enr_aggs(df)"},{"path":"https://almartin82.github.io/nhschooldata/reference/id_enr_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"df Enrollment dataframe, output tidy_enr","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/id_enr_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"data.frame boolean aggregation flags","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/id_enr_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) # Data already has aggregation flags via id_enr_aggs table(tidy_data$is_state, tidy_data$is_district, tidy_data$is_campus) } # }"},{"path":"https://almartin82.github.io/nhschooldata/reference/import_local_enrollment.html","id":null,"dir":"Reference","previous_headings":"","what":"Import local enrollment file — import_local_enrollment","title":"Import local enrollment file — import_local_enrollment","text":"Imports enrollment data locally downloaded file. Use function fallback automated download NH DOE iPlatform fails.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/import_local_enrollment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import local enrollment file — import_local_enrollment","text":"","code":"import_local_enrollment(file_path, end_year, level = \"school\")"},{"path":"https://almartin82.github.io/nhschooldata/reference/import_local_enrollment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import local enrollment file — import_local_enrollment","text":"file_path Path downloaded Excel CSV file end_year School year end (e.g., 2024 2023-24) level Either \"school\" \"district\"","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/import_local_enrollment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import local enrollment file — import_local_enrollment","text":"Data frame enrollment data","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/import_local_enrollment.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Import local enrollment file — import_local_enrollment","text":"Visit NH DOE iPlatform download enrollment data manually: District enrollment: https://.doe.nh.gov/iPlatform/Report/DataReportsSubCategory?reportSubCategoryId=9 School enrollment: https://.doe.nh.gov/iPlatform/Report/DataReportsSubCategory?reportSubCategoryId=10","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/import_local_enrollment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Import local enrollment file — import_local_enrollment","text":"","code":"if (FALSE) { # \\dontrun{ # Download file manually from NH DOE iPlatform, then: df <- import_local_enrollment(\"~/Downloads/district-fall-enrollment.xlsx\", 2024, \"district\") } # }"},{"path":"https://almartin82.github.io/nhschooldata/reference/nhschooldata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"nhschooldata: New Hampshire School Data — nhschooldata-package","title":"nhschooldata: New Hampshire School Data — nhschooldata-package","text":"simple, consistent interface accessing New Hampshire school data Python R. R package downloading processing school enrollment data New Hampshire public schools. Data sourced directly New Hampshire Department Education (NH DOE) iPlatform reporting system.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/nhschooldata-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main Functions","title":"nhschooldata: New Hampshire School Data — nhschooldata-package","text":"fetch_enr Download enrollment data single year fetch_enr_multi Download enrollment data multiple years tidy_enr Transform wide enrollment data long format get_available_years Get range available years import_local_enrollment Import manually downloaded enrollment file","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/nhschooldata-package.html","id":"data-source","dir":"Reference","previous_headings":"","what":"Data Source","title":"nhschooldata: New Hampshire School Data — nhschooldata-package","text":"Data sourced New Hampshire Department Education: NH DOE iPlatform: https://.doe.nh.gov/iPlatform Enrollment Reports: District school-level fall enrollment Historical data: Approximately 10 years available","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/nhschooldata-package.html","id":"available-reports","dir":"Reference","previous_headings":"","what":"Available Reports","title":"nhschooldata: New Hampshire School Data — nhschooldata-package","text":"District Fall Enrollment: Pre-K 12 district Public School Enrollments Grade: School-level enrollment Enrollments Grade: County, town, breakdowns","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/nhschooldata-package.html","id":"new-hampshire-school-system","dir":"Reference","previous_headings":"","what":"New Hampshire School System","title":"nhschooldata: New Hampshire School Data — nhschooldata-package","text":"New Hampshire's school system includes: Approximately 162 school districts 456 public schools School Administrative Units (SAUs) may cover multiple districts Public charter schools Approximately 160,000 students enrolled (2024)","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/nhschooldata-package.html","id":"identifier-system","dir":"Reference","previous_headings":"","what":"Identifier System","title":"nhschooldata: New Hampshire School Data — nhschooldata-package","text":"District ID: State-assigned district identifier School ID: State-assigned school identifier SAU Number: School Administrative Unit number","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/nhschooldata-package.html","id":"manual-download-fallback","dir":"Reference","previous_headings":"","what":"Manual Download Fallback","title":"nhschooldata: New Hampshire School Data — nhschooldata-package","text":"automated download fails, can manually download data NH DOE iPlatform import using import_local_enrollment.","code":""},{"path":[]},{"path":"https://almartin82.github.io/nhschooldata/reference/nhschooldata-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"nhschooldata: New Hampshire School Data — nhschooldata-package","text":"Maintainer: Al Martin almartin@example.com","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/parse_district_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse NH district ID — parse_district_id","title":"Parse NH district ID — parse_district_id","text":"NH uses district numbering system. Districts identified SAU (School Administrative Unit) number district code.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/parse_district_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse NH district ID — parse_district_id","text":"","code":"parse_district_id(x)"},{"path":"https://almartin82.github.io/nhschooldata/reference/parse_district_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse NH district ID — parse_district_id","text":"x Character vector district IDs","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/parse_district_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse NH district ID — parse_district_id","text":"Cleaned district ID","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/process_district_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process district-level enrollment data — process_district_enr","title":"Process district-level enrollment data — process_district_enr","text":"Process district-level enrollment data","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/process_district_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process district-level enrollment data — process_district_enr","text":"","code":"process_district_enr(df, end_year)"},{"path":"https://almartin82.github.io/nhschooldata/reference/process_district_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process district-level enrollment data — process_district_enr","text":"df Raw district data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/process_district_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process district-level enrollment data — process_district_enr","text":"Processed district data frame","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/process_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw NH DOE enrollment data — process_enr","title":"Process raw NH DOE enrollment data — process_enr","text":"Transforms raw data standardized schema combining school district data.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/process_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw NH DOE enrollment data — process_enr","text":"","code":"process_enr(raw_data, end_year)"},{"path":"https://almartin82.github.io/nhschooldata/reference/process_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw NH DOE enrollment data — process_enr","text":"raw_data List containing school district data frames get_raw_enr end_year School year end","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/process_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw NH DOE enrollment data — process_enr","text":"Processed data frame standardized columns","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/process_school_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process school-level enrollment data — process_school_enr","title":"Process school-level enrollment data — process_school_enr","text":"Process school-level enrollment data","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/process_school_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process school-level enrollment data — process_school_enr","text":"","code":"process_school_enr(df, end_year)"},{"path":"https://almartin82.github.io/nhschooldata/reference/process_school_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process school-level enrollment data — process_school_enr","text":"df Raw school data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/process_school_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process school-level enrollment data — process_school_enr","text":"Processed school data frame","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/read_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data from cache — read_cache","title":"Read data from cache — read_cache","text":"Read data cache","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/read_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data from cache — read_cache","text":"","code":"read_cache(end_year, type)"},{"path":"https://almartin82.github.io/nhschooldata/reference/read_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data from cache — read_cache","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/read_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data from cache — read_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/safe_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to numeric, handling suppression markers — safe_numeric","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"NH DOE uses various markers suppressed data (*, <, N/, etc.) may use commas large numbers.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/safe_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"","code":"safe_numeric(x)"},{"path":"https://almartin82.github.io/nhschooldata/reference/safe_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"x Vector convert","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/safe_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Numeric vector NA non-numeric values","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/tidy_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy enrollment data — tidy_enr","title":"Tidy enrollment data — tidy_enr","text":"Transforms wide enrollment data long format subgroup column.","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/tidy_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy enrollment data — tidy_enr","text":"","code":"tidy_enr(df)"},{"path":"https://almartin82.github.io/nhschooldata/reference/tidy_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy enrollment data — tidy_enr","text":"df wide data.frame processed enrollment data","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/tidy_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy enrollment data — tidy_enr","text":"long data.frame tidied enrollment data","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/tidy_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy enrollment data — tidy_enr","text":"","code":"if (FALSE) { # \\dontrun{ wide_data <- fetch_enr(2024, tidy = FALSE) tidy_data <- tidy_enr(wide_data) } # }"},{"path":"https://almartin82.github.io/nhschooldata/reference/validate_year.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate year parameter — validate_year","title":"Validate year parameter — validate_year","text":"Validate year parameter","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/validate_year.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate year parameter — validate_year","text":"","code":"validate_year(end_year)"},{"path":"https://almartin82.github.io/nhschooldata/reference/validate_year.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate year parameter — validate_year","text":"end_year Year validate","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/validate_year.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate year parameter — validate_year","text":"TRUE valid, throws error ","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/write_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write data to cache — write_cache","title":"Write data to cache — write_cache","text":"Write data cache","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/write_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write data to cache — write_cache","text":"","code":"write_cache(df, end_year, type)"},{"path":"https://almartin82.github.io/nhschooldata/reference/write_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write data to cache — write_cache","text":"df Data frame cache end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/nhschooldata/reference/write_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write data to cache — write_cache","text":"Invisibly returns cache path","code":""}]
